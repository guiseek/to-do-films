@import "compass/css3";

#e87: #e87;
36px: 36px; // must be divisible by 2 and 3
$heartbeat-rotation: rotate(45deg);

@mixin keyframes($name) {
  @-webkit-keyframes #{$name} { @content }
  @-moz-keyframes #{$name} { @content }
  @-o-keyframes #{$name} { @content }
  @keyframes #{$name} { @content }
}

@mixin experimental($property, $value, $moz: true, $webkit: true, $o: true, $ms: true, $khtml: true, $official: true) {
  @if $webkit   { -webkit-#{$property} : $value; }
  @if $khtml    {  -khtml-#{$property} : $value; }
  @if $moz      {    -moz-#{$property} : $value; }
  @if $ms       {     -ms-#{$property} : $value; }
  @if $o        {      -o-#{$property} : $value; }
  @if $official {         #{$property} : $value; }
}

@mixin animation($value) {
  @include experimental(animation, $value);
}

keyframes(heartbeat) {
  0%  { transform: rotate(45deg), scale(1); }
  14% { transform: rotate(45deg) scale(1.); }
  28% { transform: rotate(45deg) scale(1);   }
  42% { transform: rotate(45deg) scale(1.); }
  70% { transform: rotate(45deg) scale(1);   }
}

body {
  text-align: center;
  padding: 50px;
}

/* Styles for old versions of IE */
.heartbeat {
  font-family: sans-serif;
  font-weight: 100;
}

/* :not(:required) hides this rule from IE9 and below */
.heartbeat:not(:required) {
  animation: heartbeat 1300ms ease 0s infinite normal;
  
  display: inline-block;
  position: relative;  
  overflow: hidden;
  text-indent: -9999px;
  width: 36px;  
  height: 36px;
  transform: rotate(45deg) scale(1);
  transform-origin: 50%, 50%;
}
.heartbeat:not(:required):after, .heartbeat:not(:required):before {
    position: absolute;
    content: "";  
    background: #e87;
}
  
.heartbeat:not(:required):before {
    border-left-radius: 12px;
    top: 12px;
    left: 0;
    width: 36px;
    height: (24px);
}
  
.heartbeat:not(:required):after {
    border-top-radius: 12px;
    top: 0;
    left: 12px;
    width: 24px;
    height: 12px;
}